# 四邊形動畫學習器 - 增強版

一個專為小學生設計的四邊形幾何學習工具，通過互動動畫和智能挑戰系統幫助學生理解四邊形的特性和相互變換關係。

## ✨ 最新功能亮點

### 🧠 智能出題系統
- **22道精心設計的題目**：覆蓋四邊形的所有重要特性
- **個性化學習路徑**：系統會根據你的答題情況智能選擇題目
- **錯題重複練習**：答錯的題目會重複出現，直到完全掌握
- **進度持久化**：使用Cookie技術保存學習進度，關閉瀏覽器也不會丟失

### 📊 智能出題算法
- **優先級出題**：
  1. 錯題優先（必須答對才能移除）
  2. 未答過的新題目
  3. 已答對的題目（用於復習）
- **每次10道題**：從22道題中智能選擇最適合的題目
- **完成度追蹤**：實時顯示總體學習進度

### 🏆 成就系統
- **完成度統計**：掌握題目數/總題目數
- **挑戰次數記錄**：追蹤學習努力程度
- **大師認證**：完成所有22道題目可獲得大師級別認證

## 生成方式

本程序是由cluade.ai生成的，主要生成過程和提示詞請參考[這裡](https://zxthecoder.com/2025/06/03/%e3%80%8c%e5%9b%9b%e9%82%8a%e5%bd%a2%e6%8e%a2%e7%b4%a2%e3%80%8dclaude-ai-%e7%94%9f%e6%88%90%e9%81%8e%e7%a8%8b/)

## 功能特色

- 🔷 **五種四邊形展示**：正方形、長方形、菱形、平行四邊形、梯形
- 🎯 **互動式屬性探索**：點擊屬性可高亮顯示對應的幾何標記
- 🎬 **動態變換動畫**：觀看四邊形之間的平滑變換過程
- 📊 **實時進度顯示**：動畫過程中的進度條反饋
- 💡 **智能提示系統**：引導式的變換路徑說明
- 🎯 **智能知識挑戰**：22道精心設計的題目，智能出題算法
- 🧠 **個性化學習**：根據學習進度調整題目難度和類型
- 💾 **進度自動保存**：Cookie技術確保學習進度不丟失

## 文件結構

```
├── index.html          # 主要的HTML結構文件（支持進度顯示）
├── styles.css          # 所有樣式定義（包含新增的進度樣式）
├── script.js           # JavaScript邏輯代碼（智能出題系統）
├── practices.json      # 知識挑戰題目數據庫（22道題）
└── README.md          # 項目說明文檔
```

## 使用方法

### 1. 查看形狀屬性
- 點擊頂部按鈕選擇不同的四邊形
- 點擊右側屬性列表高亮對應的幾何特徵

### 2. 觀看變換動畫
- 點擊關係網中的一個形狀作為起點
- 再點擊另一個形狀作為終點
- 系統會自動播放變換動畫並顯示變換說明

### 3. 智能知識挑戰 ⭐ 新功能
- 點擊"🎯 知識挑戰"按鈕開始答題
- 系統智能選擇最適合你的10道題目
- 答錯的題目會重複出現，直到答對為止
- 查看詳細的成績分析和總體學習進度

### 4. 學習進度管理 ⭐ 新功能
- 所有答題記錄自動保存到瀏覽器Cookie
- 重新打開頁面時會恢復之前的學習進度
- 實時顯示：已掌握題目數、需要復習的題目數、挑戰次數
- 完成所有22道題目可獲得大師級別認證

## 智能出題系統詳解

### 📋 題目分布
- **邊長特性**：8道題（正方形、長方形、菱形、平行四邊形、梯形的邊長關係）
- **角度特性**：5道題（直角、對角相等等角度特性）
- **平行特性**：4道題（平行線的識別和理解）
- **對角線特性**：3道題（對角線的長度和位置關係）
- **圖形關係**：2道題（四邊形之間的包含和繼承關係）

### 🎯 出題算法
1. **第一優先級**：錯題庫中的題目（必須全部包含）
2. **第二優先級**：從未答過的新題目
3. **第三優先級**：已答對的題目（用於復習鞏固）
4. **最終調整**：隨機打亂順序，確保每次10道題

### 📊 進度追蹤
- **answeredQuestions**：已答過的題目ID列表
- **correctQuestions**：答對的題目ID列表
- **wrongQuestions**：答錯的題目ID列表（會重複出現）
- **challengeCount**：挑戰次數統計
- **完成度計算**：correctQuestions.length / 22 * 100%

## 題目數據管理

### practices.json 結構說明

題目數據存儲在 `practices.json` 文件中，包含以下主要部分：

- **questionBank**: 22道題目數組，每道題目包含：
  - `id`: 唯一標識符（1-22）
  - `shape`: 相關的四邊形類型
  - `question`: 題目文本
  - `answer`: 正確答案（true/false）
  - `property`: 對應的幾何屬性
  - `explanation`: 詳細解釋
  - `category`: 知識分類
  - `knowledgePoint`: 具體知識點
  - `difficulty`: 難度級別（easy/medium/hard）

- **categories**: 知識分類信息
- **difficulty**: 難度級別定義
- **metadata**: 題庫元數據（包含總題目數22）

### 自定義題目

要添加或修改題目，請編輯 `practices.json` 文件：

```json
{
  "questionBank": [
    {
      "id": 23,
      "shape": "square",
      "question": "新的正方形題目",
      "answer": true,
      "property": "equal",
      "explanation": "詳細解釋",
      "category": "sides",
      "knowledgePoint": "正方形的邊長特性",
      "difficulty": "easy"
    }
  ]
}
```

**注意**：添加新題目時需要同步更新：
1. `metadata.totalQuestions` 的數量
2. JavaScript中相關的總題目數常量
3. 完成度計算邏輯

### Cookie數據管理

學習進度數據存儲在名為 `quadrilateral_progress` 的Cookie中：

```javascript
{
  "answeredQuestions": [1, 2, 3, ...],    // 已答過的題目ID
  "correctQuestions": [1, 3, 5, ...],     // 答對的題目ID
  "wrongQuestions": [2, 4, ...],          // 需要重複練習的題目ID
  "challengeCount": 5,                    // 總挑戰次數
  "totalCorrect": 15,                     // 總答對數
  "totalWrong": 8,                        // 總答錯數
  "lastChallengeDate": "2025-06-03T..."   // 最後挑戰時間
}
```

### 錯誤處理

- 當 `practices.json` 加載失敗時，系統會自動使用內置的5道默認題目
- 加載過程中會顯示loading動畫和錯誤提示
- Cookie數據損壞時會自動重置為初始狀態

## 技術特點

- **模塊化架構**：HTML、CSS、JavaScript 完全分離，便於維護和擴展
- **純前端實現**：無需服務器，可直接在瀏覽器中運行
- **智能數據管理**：Cookie技術實現進度持久化，支持斷點續學
- **異步數據加載**：支持動態加載題目數據，提升用戶體驗
- **容錯機制**：多層錯誤處理，確保系統穩定運行
- **動畫優化**：使用 requestAnimationFrame 實現流暢動畫
- **響應式布局**：適配不同屏幕尺寸

## 瀏覽器支持

- Chrome 60+（推薦）
- Firefox 55+
- Safari 12+
- Edge 79+

**Cookie支持**：需要啟用瀏覽器Cookie功能以保存學習進度

## 部署方式

### 1. 本地運行
```bash
# 直接在瀏覽器中打開 index.html
open index.html
```

### 2. Web 服務器（推薦）
```bash
# 使用 Python 簡單服務器
python -m http.server 8000

# 或使用 Node.js serve
npx serve .

# 或使用其他Web服務器
```

**重要提醒**: 由於瀏覽器的CORS限制，從文件系統直接打開可能無法加載JSON文件和正常使用Cookie。強烈建議使用本地Web服務器運行。

## 教學應用

### 適用場景
- 小學幾何課程教學
- 數學概念可視化展示
- 互動式學習體驗
- 家庭教育輔助工具
- 個性化學習評估

### 教學優勢
- **循序漸進**：從基礎概念到複雜關係的漸進式學習
- **即時反饋**：答題後立即顯示解析和視覺化說明
- **個性化**：根據學習情況調整出題策略
- **持續追蹤**：完整的學習進度記錄和分析

## 開發說明

此項目採用 claude.ai 生成，具有以下特點：

### 🏗️ 架構優勢
- **模塊化結構**：HTML、CSS、JavaScript 分離，符合現代前端開發最佳實踐
- **易於維護**：各文件職責清晰，便於團隊協作和代碼維護
- **無外部依賴庫**：純原生技術實現，減少維護負擔
- **易於理解和修改**：代碼結構清晰，註釋完整

### 💾 數據管理
- **JSON驅動**：題目數據與代碼邏輯完全分離
- **Cookie持久化**：學習進度本地保存，無需註冊登錄
- **智能算法**：出題策略基於學習科學原理

### 🔧 技術實現
- **原生JavaScript**：無框架依賴，性能優異
- **CSS動畫**：流暢的視覺效果和過渡動畫
- **SVG圖形**：可縮放的幾何圖形顯示
- **響應式設計**：適配各種設備屏幕

## 自定義與擴展

### 📝 添加新題目
1. 編輯 `practices.json` 文件
2. 為新題目分配唯一ID
3. 更新元數據中的總題目數
4. 測試題目的顯示和邏輯

### 🎨 修改樣式
編輯 `styles.css` 文件來調整：
- 色彩主題和視覺風格
- 動畫效果和過渡時間
- 響應式布局斷點
- 按鈕和UI元素樣式

### ⚙️ 調整算法
修改 `script.js` 中的出題算法：
- `QuestionSelector.selectQuestionsForChallenge()`: 調整選題邏輯
- `challengeState.totalQuestions`: 修改每次出題數量
- `ProgressManager` 相關方法：調整進度計算方式

### 🌍 多語言支持
- 修改 `practices.json` 中的題目文本
- 更新 `script.js` 中的界面文字
- 調整 `index.html` 中的固定文本

## 性能優化建議

- **題目數量**：建議控制在20-30道，保證加載速度
- **圖片資源**：如需添加圖片，請優化文件大小
- **Cookie清理**：定期提供清理進度的選項
- **緩存策略**：可添加 Service Worker 支持離線使用

## 故障排除

### 常見問題
1. **題目不顯示**：檢查 `practices.json` 格式是否正確
2. **進度丟失**：確認瀏覽器Cookie功能已啟用
3. **加載失敗**：使用Web服務器而非直接打開文件
4. **動畫卡頓**：嘗試關閉其他瀏覽器標籤頁

### 調試技巧
- 打開瀏覽器開發者工具查看控制台錯誤
- 檢查Network標籤確認JSON文件正常加載
- 查看Application → Cookies確認進度數據保存

## 授權

MIT License - 可自由使用、修改和分發。

## 貢獻

歡迎提交 Issue 和 Pull Request 來改進這個學習工具！特別歡迎：

### 🎯 題目貢獻
- 新題目的設計和測試
- 現有題目的優化建議
- 難度平衡的反饋

### 🎨 界面優化
- UI/UX改進建議
- 無障礙功能增強
- 移動端體驗優化

### 🚀 功能增強
- 新的學習模式設計
- 更智能的出題算法
- 數據分析和可視化

### 🌐 國際化
- 多語言支持
- 本地化適配
- 文化差異考慮

---

**讓學習四邊形變得更有趣、更智能、更個性化！** 🎉</document_content>
</invoke>